// This file is auto-generated by @hey-api/openapi-ts

/**
 * An autocomplete suggestion with query frequency information.
 */
export type AutocompleteResponse = {
  /**
   * A unique identifier for the autocomplete suggestion.
   */
  id?: string
  /**
   * The query text for the autocomplete suggestion.
   */
  q?: string
  /**
   * The frequency count of this query.
   */
  count?: number
}

export type MultiSearchRequest = {
  searches: Array<SearchQuery>
}

/**
 * Type of search operation to perform
 */
export type Type = "search" | "autocomplete"

export type SearchQuery = {
  /**
   * Type of search operation to perform
   */
  type?: "search" | "autocomplete"
  highlight_full_fields?: string
  q?: string
  facet_by?: string
  filter_by?: string
  max_facet_values?: number
  page?: number
  per_page?: number
}

export type MultiSearchResponse = {
  results?: Array<SearchResult>
}

export type SearchResult = {
  /**
   * Type of search operation to performed
   */
  type?: "search" | "autocomplete"
  facet_counts?: Array<FacetCount>
  found?: number
  hits?: Array<Hit>
  out_of?: number
  page?: number
  request_params?: {
    [key: string]: unknown
  }
  search_cutoff?: boolean
  search_time_ms?: number
}

export type FacetCount = {
  counts?: Array<FacetValue>
  field_name?: string
  sampled?: boolean
  stats?: {
    [key: string]: unknown
  }
}

export type FacetValue = {
  count?: number
  highlighted?: string
  value?: string
}

export type Hit = {
  /**
   * Document object - either a Product or AutocompleteResponse
   */
  document?: CatalogSearchProduct | AutocompleteResponse
  highlight?: {
    [key: string]: unknown
  }
  highlights?: Array<{
    [key: string]: unknown
  }>
}

/**
 * A product in a catalog with the following attributes.
 */
export type CatalogSearchProduct = {
  /**
   * Arbitrary document object
   */
  attributes?: {
    [key: string]: unknown
  }
  /**
   * A unique identifier for a product.
   */
  id?: string
  /**
   * Arbitrary document object
   */
  relationships?: {
    [key: string]: unknown
  }
  /**
   * This represents the type of object being returned. Always `product`.
   */
  type?: string
  /**
   * Arbitrary document object
   */
  meta?: {
    [key: string]: unknown
  }
}

export type CatalogSearchErrorResponse = {
  errors: Array<CatalogSearchError>
}

export type CatalogSearchError = {
  /**
   * The HTTP response code of the error.
   */
  status: string
  /**
   * A brief summary of the error.
   */
  title: string
  /**
   * Optional additional detail about the error.
   */
  detail?: string
  /**
   * Additional supporting meta data for the error.
   */
  meta?: {
    [key: string]: unknown
  }
}

export type PostMultiSearchData = {
  body: MultiSearchRequest
  headers?: {
    /**
     * The language and locale your storefront prefers. See [Accept-Language](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language).
     */
    "accept-language"?: string
    /**
     * The list of channels in which this catalog can be displayed. A channel is the shopping experience, such as a mobile app or web storefront. If empty, the catalog rule matches all channels. The channel will eventually be included in the bearer token that is used for authorization, but currently, you must set the `EP-Channel` header in your requests.
     */
    "EP-Channel"?: string
    /**
     * Tags are used to refine the eligibility criteria for a rule. Requests populate the catalog rule tag using the `EP-Context-Tag` header.
     */
    "EP-Context-Tag"?: string
  }
  path?: never
  query?: {
    /**
     * Using the include parameter, you can retrieve top-level resources.
     *
     * - Files or main image. For example, `include=files,main_image`.
     * - Component product data. For example, `include=component_products`.
     * - Key attribute data, such as SKU or slug.
     *
     */
    include?: Array<"files" | "main_image" | "component_products">
    /**
     * The maximum number of records per page for this response. You can set this value up to 100. If no page size is set, the [page length](/docs/api/settings/settings-introduction#page-length) store setting is used.
     */
    "page[limit]"?: BigInt
    /**
     * The current offset by number of records, not pages. Offset is zero-based. The maximum records you can offset is 10,000. You would normally increment the page offset by multiples of the page limit to paginate through the results.
     */
    "page[offset]"?: BigInt
  }
  url: "/catalog/multi-search"
}

export type PostMultiSearchErrors = {
  /**
   * Bad request - invalid search parameters
   */
  400: CatalogSearchErrorResponse
  /**
   * Internal server error. There was a system failure in the platform.
   */
  500: CatalogSearchErrorResponse
}

export type PostMultiSearchError =
  PostMultiSearchErrors[keyof PostMultiSearchErrors]

export type PostMultiSearchResponses = {
  /**
   * Multi-search results
   */
  200: MultiSearchResponse
}

export type PostMultiSearchResponse =
  PostMultiSearchResponses[keyof PostMultiSearchResponses]
